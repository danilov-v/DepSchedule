--liquibase formatted sql  logicalFilePath:changesAfterInitData.h2.sql

--changeset eldar:ADD_DURATION_COLUMN_INTO_EVENT
ALTER TABLE EVENT ADD DURATION INT;

--changeset eldar:SET_DURATION_COLUMN_INTO_EVENT
UPDATE EVENT SET DURATION = DATEDIFF(DAY, DATE_FROM, DATE_TO);

--changeset eldar:MAKE_DURATION_COLUMN_NOT_NULL
ALTER TABLE EVENT ALTER COLUMN DURATION INT NOT NULL;

--changeset eldar:DROP_DATE_TO_COLUMN_IN_EVENT
ALTER TABLE EVENT DROP COLUMN DATE_TO;

--changeset eldar:ADD_FLAG_COLUMN_INTO_UNIT
ALTER TABLE UNIT ADD FLAG VARCHAR(255);

--changeset eldar:ADD_EXISTS_COLUMN_INTO_UNIT
ALTER TABLE UNIT ADD "EXISTS" BOOLEAN DEFAULT TRUE NOT NULL;