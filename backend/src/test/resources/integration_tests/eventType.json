{
  "scenarioName": "CRUD EventType",
  "steps": [
    {
      "name": "initDataBeforeTest",
      "url": "com.varb.schedule.integration.TestSqlExecutor",
      "operation": "executeSqlScript",
      "request": "db/scripts/initEventTypeTest.sql",
      "assertions": {}
    },

    {
      "name": "PUT_eventType",
      "url": "/api/eventType/1",
      "operation": "PUT",
      "request": {
        "headers": {
          "Accept": "application/json;charset=UTF-8"
        },
        "body": {
          "description": "mobilization_changed",
          "color": "blue"
        }
      },
      "assertions": {
        "status": 200,
        "body": {
          "typeId": "$EQ.1",
          "description": "${$.PUT_eventType.request.body.description}",
          "color": "${$.PUT_eventType.request.body.color}"
        }
      }
    },


    {
      "name": "POST_eventType",
      "url": "/api/eventType",
      "operation": "POST",
      "request": {
        "headers": {
          "Accept": "application/json;charset=UTF-8"
        },
        "body": {
          "description": "third_type_description",
          "color": "red"
        }
      },
      "assertions": {
        "status": 200,
        "body": {
          "typeId": "$NOT.NULL",
          "description": "${$.POST_eventType.request.body.description}",
          "color": "${$.POST_eventType.request.body.color}"
        }
      }
    },


    {
      "name": "GET_eventType",
      "url": "/api/eventType",
      "operation": "GET",
      "request": {
      },
      "assertions": {
        "status": 200,
        "body": [
          {
            "typeId": "$EQ.${$.PUT_eventType.response.body.typeId}",
            "description": "${$.PUT_eventType.response.body.description}",
            "color": "${$.PUT_eventType.response.body.color}"
          },
          {
            "typeId": "$EQ.2",
            "description": "deployment",
            "color": "green"
          },
          {
            "typeId": "$EQ.${$.POST_eventType.response.body.typeId}",
            "description": "${$.POST_eventType.response.body.description}",
            "color": "${$.POST_eventType.response.body.color}"
          }
        ]
      }
    },



    {
      "name": "DELETE_eventType",
      "url": "/api/eventType/${$.POST_eventType.response.body.typeId}",
      "operation": "DELETE",
      "request": {
      },
      "assertions": {
        "status": 200
      }
    },


    {
      "name": "GET_eventType_afterDelete",
      "url": "/api/eventType",
      "operation": "GET",
      "request": {
      },
      "assertions": {
        "status": 200,
        "body": [
          {
            "typeId": "$EQ.${$.PUT_eventType.response.body.typeId}",
            "description": "${$.PUT_eventType.response.body.description}",
            "color": "${$.PUT_eventType.response.body.color}"
          },
          {
            "typeId": "$EQ.${$.GET_eventType.response.body[1].typeId}",
            "description": "${$.GET_eventType.response.body[1].description}",
            "color": "${$.GET_eventType.response.body[1].color}"
          }
        ]
      }
    },

    {
      "name": "clearDataAfterTest",
      "url": "com.varb.schedule.integration.TestSqlExecutor",
      "operation": "executeSqlScript",
      "request": "db/scripts/cleanup.sql",
      "assertions": {}
    }
  ]
}