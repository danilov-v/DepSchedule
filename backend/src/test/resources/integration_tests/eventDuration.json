{
  "scenarioName": "CRUD eventDuration",
  "steps": [
    {
      "name": "initDataBeforeTest",
      "url": "com.varb.schedule.integration.TestSqlExecutor",
      "operation": "executeSqlScript",
      "request": "db/scripts/initEventDurationTest.sql",
      "assertions": {}
    },
    {
      "name": "PUT_eventDuration",
      "url": "/api/eventDuration/200/1",
      "operation": "PUT",
      "request": {
        "headers": {
          "Accept": "application/json;charset=UTF-8"
        },
        "body": {
          "duration": 10
        }
      },
      "assertions": {
        "status": 200,
        "body": {
          "unitId": "$EQ.200",
          "eventTypeId": "$EQ.1",
          "duration": "$EQ.${$.PUT_eventDuration.request.body.duration}"
        }
      }
    },

    {
      "name": "GET_eventDuration",
      "url": "/api/eventDuration",
      "operation": "GET",
      "request": {
        "headers": {
          "Accept": "application/json;charset=UTF-8"
        },
        "body": {}
      },
      "assertions": {
        "status": 200,
        "body": [
          {
            "unitId": "$EQ.${$.PUT_eventDuration.response.body.unitId}",
            "eventTypeId": "$EQ.${$.PUT_eventDuration.response.body.eventTypeId}",
            "duration": "$EQ.${$.PUT_eventDuration.response.body.duration}"
          },
          {
            "unitId": "$EQ.300",
            "eventTypeId": "$EQ.2",
            "duration": "$EQ.6"
          }
        ]
      }
    },

    {
      "name": "DELETE_eventDuration",
      "url": "/api/eventDuration/${$.PUT_eventDuration.response.body.unitId}/${$.PUT_eventDuration.response.body.eventTypeId}",
      "operation": "DELETE",
      "request": {
        "headers": {
          "Accept": "application/json;charset=UTF-8"
        },
        "body": {}
      },
      "assertions": {
        "status": 200
      }
    },

    {
      "name": "GET_eventDuration_afterDelete",
      "url": "/api/eventDuration",
      "operation": "GET",
      "request": {
        "headers": {
          "Accept": "application/json;charset=UTF-8"
        },
        "body": {}
      },
      "assertions": {
        "status": 200,
        "body": [
          {
            "unitId": "$EQ.${$.GET_eventDuration.response.body[1].unitId}",
            "eventTypeId": "$EQ.${$.GET_eventDuration.response.body[1].eventTypeId}",
            "duration": "$EQ.${$.GET_eventDuration.response.body[1].duration}"
          }
        ]
      }
    }
  ]
}
